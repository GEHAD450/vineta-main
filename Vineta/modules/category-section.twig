{% if not settings.hide_all_section %}

<!-- product cat one start -->
<section class="categories pb-{% if settings.padding_bottom and settings.padding_bottom != 'default' %}{{ settings.padding_bottom }}{% else %}80{% endif %} pt-{% if settings.padding_top and settings.padding_top != 'default' %}{{ settings.padding_top }}{% else %}80{% endif %}" 
section-id="{{ sectionId }}"
    style="{% if settings.bg_color %}background-color:{{ settings.bg_color }};{% endif %} {% if settings.bg_img %}background-image:url({{ settings.bg_img }});background-size: cover; background-position: center; {% if settings.bg_attachment %} background-attachment: fixed; {% endif %}{% endif %}"
     data-lg-scroll-offset="130"
     data-md-scroll-offset="130"
     data-sm-scroll-offset="94">
    
    {% if settings.overlay %}
    <div class="overlay" style="{% if settings.overlay_color %}background-color:{{ settings.overlay_color }};{% endif %} {% if settings.overlay_opacity %}opacity:{{ settings.overlay_opacity }};{% endif %}"></div>
  {% endif %}
    
    <div class="{% if settings.full_width == false %} container custom-container {% else %} container-fluid {% endif %}">
    {% if settings.sub_title or settings.section_title %}
    <div class="title-area {% if settings.title_center %}center{% endif %} pb-{% if settings.title_padding_bottom and settings.title_padding_bottom != 'default' %}{{ settings.title_padding_bottom }}{% else %}50{% endif %}">
      {% if settings.sub_title %}
        <h4 class="sub-title" style="{% if settings.sub_title_color %}color:{{ settings.sub_title_color }};{% endif %}">{{ settings.sub_title }}</h4>
      {% endif %}
      {% if settings.section_title %}
        <h2 class="section-title"  style="{% if settings.title_color %}color:{{ settings.title_color }};{% endif %}">
          {{ settings.section_title }}
        </h2>
      {% endif %}
    </div>
    {% endif %}
          
        <div class="{% if settings.select_slider_or_horizontal == 'style2' %} row {% else %} xc-category-slider__carousel cats-owl__carousel owl-carousel {% endif %}">       
            {% for categoryItem in settings.categories %}
              {% if settings.select_slider_or_horizontal == 'style2' %}
                <div class="col-lg-2 col-md-4 col-sm-6 col-xs-12">
              {% endif %}
                <div class="xc-category-one__item">
                  <div class="xc-category-one__item-inner" style="{% if settings.card_bg_color %}background-color:{{ settings.card_bg_color }};border-color:{{ settings.card_bg_color }}{% endif %}">
                      <a href="/categories/{{ categoryItem.category.id }}/{{ categoryItem.category.slug }}">
                        <div class="xc-category-one__img  breadimg" {% if settings.card_img_bg_color %}style="background-color:{{ settings.card_img_bg_color }};"{% endif %}>
                            {% if categoryItem.category.image %}
                              <img  src="{{ imageUrl(categoryItem.category.image_full_size, { w: 400, q: 100, f:'auto' }) }}" loading="lazy" alt="{{ categoryItem.category.name }}">
                              {% else %}
                              <div class="img">
                                <i class="fa fa-image"></i>
                                <span class="placeholder-text">{{ categoryItem.category.name ? categoryItem.category.name : 'فئة المنتج' }}</span>
                              </div>
                            {% endif %}
                        </div>
                      </a>

                    <h3 class="xc-category-one__title"><a href="/categories/{{ categoryItem.category.id }}/{{ categoryItem.category.slug }}" style="{% if settings.category_title_color %}color:{{ settings.category_title_color }};{% endif %}">{{ categoryItem.category.name }}</a></h3>
                    {% if settings.show_link_to_category %}
                      <a href="/categories/{{ categoryItem.category.id }}/{{ categoryItem.category.slug }}" style="{% if settings.link_color %}background-color:{{ settings.link_color }};{% endif %}" class="show-all hbtn1">
                        {% if settings.link_text %} {{ settings.link_text }} {% else %} {{ locals.header_view_all }} {% endif %}
                      </a>
                    {% endif %}
              {% if settings.select_slider_or_horizontal == 'style2' %}
                </div>
              {% endif %}

                  </div>
                </div>
            {% endfor %}
        </div>

        {% if settings.display_more %}
            <center>
                <a href="/categories" style="{% if settings.more_btn_bg_color %}background-color:{{ settings.more_btn_bg_color }};{% endif %}" class="all-categories hbtn1 {% if settings.select_slider_or_horizontal == 'style2' %}horizontal{% endif %}">{% if settings.more_text %}{{ settings.more_text }}{% else %}{{ locals.header_all_categories }}{% endif %}</a>
            </center>
        {% endif %}


    </div>
</section>
<!-- product cat one end -->
{% if settings.select_slider_or_horizontal == 'style1' or not settings.select_slider_or_horizontal %}
  <script>

      document.addEventListener("DOMContentLoaded", function(){

      var arrowNextClass = (window.appDirection === 'ltr') ? 'fa fa-angle-right': 'fa fa-angle-left';
      var arrowPrevClass = (window.appDirection === 'ltr') ? 'fa fa-angle-left' : 'fa fa-angle-right';
      var prevArrowHTML = '<i class="' + arrowPrevClass + '"></i>';
      var nextArrowHTML = '<i class="' + arrowNextClass + '"></i>';

      let swiftcartowlCarousel = $(".categories[section-id='{{ sectionId }}'] .cats-owl__carousel");
      if (swiftcartowlCarousel.length) {
        swiftcartowlCarousel.each(function () {
          let elm = $(this);
          let thmOwlCarousel = elm.owlCarousel({
            "loop": {% if (settings.loop) %}true{% else %}false{% endif %},
            "autoplay": {% if (settings.autoplay) %}true{% else %}false{% endif %},
            "nav": {% if (settings.arrows) %}true{% else %}false{% endif %},
            "navText": [prevArrowHTML,nextArrowHTML],
            "dots": false,
            "rtl": (window.appDirection === "rtl") ? true : false,
            "responsive":{
                "0":{
                    "items":1,
                    "stagePadding": 30,
                },
                "480":{
                    "items":1,
                    "stagePadding": 120,
                },
                "550":{
                    "items":3
                },
                "768":{
                    "items":4
                },
                "1200":{
                    "items": 5
                },
                "1430":{
                    "items": 4
                }
            }
          });
          elm.find("button").each(function () {
            $(this).attr("aria-label", "carousel button");
          });
        });
      }

      });
  </script>
{% endif %}
{% endif %}

{% schema %}
{
  "name": {
    "ar": "التصنيفات",
    "en": "Categories"
  },
  "icon": "fal fa-cabinet-filing",
  "display": true,
  "settings": {
    "hide_all_section": {
      "type": "checkbox",
      "label": {
        "ar": " ",
        "en": " "
      },
      "option": {
        "ar": "إخفاء القسم",
        "en": "Hide Section"
      },
      "noLabel": true
    },
    "full_width" : {
      "type": "checkbox",
      "label": {
        "ar": "",
        "en": ""
      },
      "option": {
        "ar": "عرض بكامل مساحة الشاشة",
        "en": "Full Width"
      },
      "noLabel": true,
      "default": true
    },
    "padding_top" : {
      "type":"select",
      "label": {
        "ar": "التباعد العلوي للقسم القيمة الافتراضية هي (80)",
        "en": "Section Padding Top (Default is 80)"
      },
      "options": [
        {
          "value": "default",
          "label": {
            "ar": "القيمة الافتراضية",
            "en": "Default"
          }
        },
        {
          "value": "00",
          "label": {
            "ar": "0",
            "en": "0"
          }
        },
        {
          "value": "10",
          "label": {
            "ar": "10",
            "en": "10"
          }
        },
        {
          "value": "20",
          "label": {
            "ar": "20",
            "en": "20"
          }
        },
        {
          "value": "30",
          "label": {
            "ar": "30",
            "en": "30"
          }
        },
        {
          "value": "40",
          "label": {
            "ar": "40",
            "en": "40"
          }
        },
        {
          "value": "50",
          "label": {
            "ar": "50",
            "en": "50"
          }
        },
        {
          "value": "60",
          "label": {
            "ar": "60",
            "en": "60"
          }
        },
        {
          "value": "70",
          "label": {
            "ar": "70",
            "en": "70"
          }
        },
        {
          "value": "80",
          "label": {
            "ar": "80",
            "en": "80"
          }
        },
        {
          "value": "90",
          "label": {
            "ar": "90",
            "en": "90"
          }
        },
        {
          "value": "100",
          "label": {
            "ar": "100",
            "en": "100"
          }
        },
        {
          "value": "110",
          "label": {
            "ar": "110",
            "en": "110"
          }
        },
        {
          "value": "120",
          "label": {
            "ar": "120",
            "en": "120"
          }
        },
        {
          "value": "130",
          "label": {
            "ar": "130",
            "en": "130"
          }
        },
        {
          "value": "140",
          "label": {
            "ar": "140",
            "en": "140"
          }
        },
        {
          "value": "150",
          "label": {
            "ar": "150",
            "en": "150"
          }
        },
        {
          "value": "160",
          "label": {
            "ar": "160",
            "en": "160"
          }
        },
        {
          "value": "170",
          "label": {
            "ar": "170",
            "en": "170"
          }
        },
        {
          "value": "180",
          "label": {
            "ar": "180",
            "en": "180"
          }
        },
        {
          "value": "190",
          "label": {
            "ar": "190",
            "en": "190"
          }
        },
        {
          "value": "200",
          "label": {
            "ar": "200",
            "en": "200"
          }
        }
      ],
      "default": "80"
    },
    "padding_bottom" : {
      "type":"select",
      "label": {
        "ar": "التباعد السفلي للقسم القيمة الافتراضية هي (80)",
        "en": "Section Padding Bottom (Default is 80)"
      },
      "options": [
        {
          "value": "default",
          "label": {
            "ar": "القيمة الافتراضية",
            "en": "Default"
          }
        },
        {
          "value": "00",
          "label": {
            "ar": "0",
            "en": "0"
          }
        },
        {
          "value": "10",
          "label": {
            "ar": "10",
            "en": "10"
          }
        },
        {
          "value": "20",
          "label": {
            "ar": "20",
            "en": "20"
          }
        },
        {
          "value": "30",
          "label": {
            "ar": "30",
            "en": "30"
          }
        },
        {
          "value": "40",
          "label": {
            "ar": "40",
            "en": "40"
          }
        },
        {
          "value": "50",
          "label": {
            "ar": "50",
            "en": "50"
          }
        },
        {
          "value": "60",
          "label": {
            "ar": "60",
            "en": "60"
          }
        },
        {
          "value": "70",
          "label": {
            "ar": "70",
            "en": "70"
          }
        },
        {
          "value": "80",
          "label": {
            "ar": "80",
            "en": "80"
          }
        },
        {
          "value": "90",
          "label": {
            "ar": "90",
            "en": "90"
          }
        },
        {
          "value": "100",
          "label": {
            "ar": "100",
            "en": "100"
          }
        },
        {
          "value": "110",
          "label": {
            "ar": "110",
            "en": "110"
          }
        },
        {
          "value": "120",
          "label": {
            "ar": "120",
            "en": "120"
          }
        },
        {
          "value": "130",
          "label": {
            "ar": "130",
            "en": "130"
          }
        },
        {
          "value": "140",
          "label": {
            "ar": "140",
            "en": "140"
          }
        },
        {
          "value": "150",
          "label": {
            "ar": "150",
            "en": "150"
          }
        },
        {
          "value": "160",
          "label": {
            "ar": "160",
            "en": "160"
          }
        },
        {
          "value": "170",
          "label": {
            "ar": "170",
            "en": "170"
          }
        },
        {
          "value": "180",
          "label": {
            "ar": "180",
            "en": "180"
          }
        },
        {
          "value": "190",
          "label": {
            "ar": "190",
            "en": "190"
          }
        },
        {
          "value": "200",
          "label": {
            "ar": "200",
            "en": "200"
          }
        }
      ],
      "default": "80"
    },
    "sub_title": {
      "type": "text",
      "label": {
        "ar": "العنوان الفرعي",
        "en": "Sub Title"
      }
    },
    "sub_title_color": {
      "type": "color",
      "label": {
        "ar": "لون العنوان الفرعي",
        "en": "Sub Title Color"
      }
    },
    "section_title": {
      "type": "text",
      "label": {
        "ar": "العنوان",
        "en": "Title"
      }
    },
    "title_color": {
      "type": "color",
      "label": {
        "ar": "لون العنوان",
        "en": "Title Color"
      }
    },
    "title_center": {
      "type": "checkbox",
      "label": {
        "ar": " ",
        "en": " "
      },
      "option": {
        "ar": "توسيط العنوان والعنوان الفرعي",
        "en": "Center Title and Sub Title"
      },
      "noLabel": true
    },
    "title_padding_bottom" : {
      "type":"select",
      "label": {
        "ar": "التباعد السفلي للعنوان القيمة الافتراضية هي (50)",
        "en": "Title Padding Bottom (Default is 50)"
      },
      "options": [
        {
          "value": "default",
          "label": {
            "ar": "القيمة الافتراضية",
            "en": "Default"
          }
        },
        {
          "value": "00",
          "label": {
            "ar": "0",
            "en": "0"
          }
        },
        {
          "value": "10",
          "label": {
            "ar": "10",
            "en": "10"
          }
        },
        {
          "value": "20",
          "label": {
            "ar": "20",
            "en": "20"
          }
        },
        {
          "value": "30",
          "label": {
            "ar": "30",
            "en": "30"
          }
        },
        {
          "value": "40",
          "label": {
            "ar": "40",
            "en": "40"
          }
        },
        {
          "value": "50",
          "label": {
            "ar": "50",
            "en": "50"
          }
        },
        {
          "value": "60",
          "label": {
            "ar": "60",
            "en": "60"
          }
        },
        {
          "value": "70",
          "label": {
            "ar": "70",
            "en": "70"
          }
        },
        {
          "value": "80",
          "label": {
            "ar": "80",
            "en": "80"
          }
        },
        {
          "value": "90",
          "label": {
            "ar": "90",
            "en": "90"
          }
        },
        {
          "value": "100",
          "label": {
            "ar": "100",
            "en": "100"
          }
        },
        {
          "value": "110",
          "label": {
            "ar": "110",
            "en": "110"
          }
        },
        {
          "value": "120",
          "label": {
            "ar": "120",
            "en": "120"
          }
        },
        {
          "value": "130",
          "label": {
            "ar": "130",
            "en": "130"
          }
        },
        {
          "value": "140",
          "label": {
            "ar": "140",
            "en": "140"
          }
        },
        {
          "value": "150",
          "label": {
            "ar": "150",
            "en": "150"
          }
        },
        {
          "value": "160",
          "label": {
            "ar": "160",
            "en": "160"
          }
        },
        {
          "value": "170",
          "label": {
            "ar": "170",
            "en": "170"
          }
        },
        {
          "value": "180",
          "label": {
            "ar": "180",
            "en": "180"
          }
        },
        {
          "value": "190",
          "label": {
            "ar": "190",
            "en": "190"
          }
        },
        {
          "value": "200",
          "label": {
            "ar": "200",
            "en": "200"
          }
        }
      ],
      "default": "80"
    },
    
    "bg_color": {
      "type": "color",
      "label": {
        "ar": "لون الخلفية",
        "en": "Background Color"
      }
    },
    "bg_img": {
      "type": "image",
      "label": {
        "ar": "صورة الخلفية",
        "en": "Background Image"
      }
    },
    "bg_attachment": {
      "type": "checkbox",
      "option": {
        "ar": "صورة الخلفية متحركة",
        "en": "Background Image is Fixed"
      },
      "info": {
        "ar": "يمكنك تحديد ما إذا كانت صورة الخلفية ستكون متحركة أو ثابتة",
        "en": "You can set if the background image will be fixed or not"
      },
      "noLabel": true
    },
    "overlay": {
      "type": "checkbox",
      "label": {
        "ar": " ",
        "en": " "
      },
      "option": {
        "ar": "إظهار الغطاء المتداخل",
        "en": "Show Overlay"
      },
      "noLabel": true
    },
    "overlay_color": {
      "type": "color",
      "label": {
        "ar": "لون الغطاء المتداخل",
        "en": "Overlay Color"
      },
      "default": "#000000"
    },
    "overlay_opacity": {
      "type": "number",
      "label": {
        "ar": "شفافية الغطاء المتداخل",
        "en": "Overlay Opacity"
      },
      "info": {
        "ar": "يمكنك تحديد شفافية الغطاء بين 0 و 1 مثل 0.5",
        "en": "You can set the overlay opacity between 0 and 1 like 0.5"
      },
      "min": 0,
      "max": 1
    },
    "select_slider_or_horizontal" : {
      "type": "select",
      "label": {
        "ar": "اختر اذا كان سيكون القسم علي شكل سلايدر أو قائمة",
        "en": "Select if the section will be in the form of a slider or list"
      },
      "options": [
        {
          "value": "style1",
          "label": {
            "ar": "سلايدر",
            "en": "Slider"
          }
        },
        {
          "value": "style2",
          "label": {
            "ar": "قائمة",
            "en": "List"
          }
        }
      ],
      "default": "style1"
    },
    "columns": {
      "type": "select",
      "label": {
        "ar": "عدد العناصر في الصف الواحد",
        "en": "Items per Row"
      },
      "options": [
        {
          "value": "4",
          "label": {
            "ar": "4 عنصر في الصف",
            "en": "4 items per row"
          }
        },
        {
          "value": "3",
          "label": {
            "ar": "3 عنصر في الصف",
            "en": "3 items per row"
          }
        },
        {
          "value": "2",
          "label": {
            "ar": "2 عنصر في الصف",
            "en": "2 items per row"
          }
        }
      ],
      "info": {
        "ar": "يعمل فقط مع القائمة",
        "en": "Only works with list"
      },
      "default": "4"
    },
    "loop" : {
      "type": "checkbox",
      "label": {
        "ar": "",
        "en": ""
      },
      "option": {
        "ar": "تكرار العناصر",
        "en": "Infinite"
      },
      "noLabel": true,
      "default": true
    },
    "autoplay" : {
      "type": "checkbox",
      "label": {
        "ar": "",
        "en": ""
      },
      "option": {
        "ar": "تشغيل تلقائي",
        "en": "Autoplay"
      },
      "noLabel": true,
      "default": true
    },
    "arrows" : {
      "type": "checkbox",
      "label": {
        "ar": "",
        "en": ""
      },
      "info": {
        "ar": "يجب الضغط علي حفظ لتفعيل هذا الخيار",
        "en": "You must click on save to activate this option"
      },
      "option": {
        "ar": "أسهم التنقل",
        "en": "Arrows"
      },
      "noLabel": true,
      "default": true
    },
    "show_link_to_category": {
      "type": "checkbox",
      "label": {
        "ar": "",
        "en": ""
      },
      "noLabel": true,
      "option": {
        "ar": "عرض زر التصنيف داخل التصنيف",
        "en": "Show category link inside the category"
      },
      "default": true
    },
    "link_text": {
      "type": "text",
      "label": {
        "ar": "نص الرابط للزر الموجود داخل التصنيف",
        "en": "Link text for the button inside the category"
      }
    },
    "link_color": {
      "type": "color",
      "label": {
        "ar": "لون خلفية الزر الموجود داخل التصنيف",
        "en": "Link background color for the button inside the category"
      }
    },
    "display_more": {
      "type": "checkbox",
      "label": {
        "ar": "",
        "en": ""
      },
      "noLabel": true,
      "option": {
        "ar": "عرض زر جميع التصنيفات",
        "en": "Display button more products"
      },
      "default": true
    },
    "more_text": {
      "type": "text",
      "label": {
        "ar": "نص زر جميع التصنيفات",
        "en": "More text"
      }
    },
    "more_btn_bg_color": {
      "type": "color",
      "label": {
        "ar": "لون خلفية زر جميع التصنيفات",
        "en": "More button background color"
      }
    },
    "card_bg_color": {
      "type": "color",
      "label": {
        "ar": "لون خلفية البطاقة",
        "en": "Card Background Color"
      }
    },
    "card_img_bg_color": {
      "type": "color",
      "label": {
        "ar": "لون خلفية الصورة",
        "en": "Image Background Color"
      }
    },
    "category_title_color": {
      "type": "color",
      "label": {
        "ar": "لون العنوان",
        "en": "Title Color"
      }
    },
    "categories": {
      "type": "list",
      "noLabel": true,
      "settings_label":{
        "ar": "التصنيف",
        "en": "Picture"
      },
      "settings": {
        "category": {
          "type": "category",
          "label": {
            "ar": "اختر التصنيف",
            "en": "Select category"
          }
        }
      }
    }
  }
}
{% endschema %}
